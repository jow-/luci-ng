{
  "widget": "tabs",

  "options": {
    "tabLabels": ["Password", "SSH Access", "SSH Keys"]
  },

  "content": [
    {
      "widget": "form",
      "bind": "$model",
      "content": [
        {
          "widget": "input",
          "bind": "$model.password",
          "options": {
            "title": "Password",
            "inputType": "password",
            "required": true,
            "validate=": "$value === $model.repassword",
            "minLength": 8
          }
        },
        {
          "widget": "input",
          "bind": "$model.repassword",
          "options": {
            "title": "Confirmation",
            "inputType": "password",
            "required": true,
            "validate=": "$value === $model.password"
          }
        },
        {
          "widget": "button",
          "bind": "$model.click",
          "options": {
            "title": "Save",
            "click": "ubus('luci2.system', 'password_set', {user:$user,password: $model.password} )",
            "disabled=": "!$form.valid"
          }
        }
      ]
    },
    {
      "widget": "schema-form",
      "options": {
        "schema=": "uci.getSchema('dropbear', 'dropbear')",
        "bind": "uci.configs.dropbear['@dropbear']"
      }
    },
    {
      "widget": "table",
      "options": {
        "title": "Title",
        "description": "Manage authorized keys for passwordless root logins",
        "dataSource=": "map(ubus('luci2.system', 'sshkeys_get').keys, 'm=/^([^ ]*) ([^ ]*([^ ]{8})) ([^ ]*)$/.exec($value),{row: $value, key: m[4], type: m[1], hash: m[2], ending: m[3]}')",
        "colKeys": ["key", "type", "ending"],
        "colHeaders": ["Remote", "Type", "Hash End"]
      }
    }
  ]
}
